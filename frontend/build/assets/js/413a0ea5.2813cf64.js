"use strict";(globalThis.webpackChunkai_native_textbook=globalThis.webpackChunkai_native_textbook||[]).push([[741],{6975:(n,o,e)=>{e.r(o),e.d(o,{default:()=>c});var i=e(6540),a=e(1483),t=e(6347),r=e(4848);const l="undefined"!=typeof window?"https://naveed247365-ai-textbook-backend.hf.space/api":"http://localhost:8001/api",s="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com";function c(){const n=(0,t.W6)(),[o,e]=(0,i.useState)({email:"",password:""}),[c,d]=(0,i.useState)(""),[g,m]=(0,i.useState)(!1),[u,h]=(0,i.useState)(null);(0,i.useEffect)(()=>{(()=>{if(document.getElementById("google-sdk"))return;const n=document.createElement("script");n.id="google-sdk",n.src="https://accounts.google.com/gsi/client",n.async=!0,n.defer=!0,document.body.appendChild(n)})(),(()=>{if(document.getElementById("facebook-sdk"))return;window.fbAsyncInit=function(){window.FB.init({appId:"YOUR_FACEBOOK_APP_ID",cookie:!0,xfbml:!0,version:"v18.0"})};const n=document.createElement("script");n.id="facebook-sdk",n.src="https://connect.facebook.net/en_US/sdk.js",n.async=!0,n.defer=!0,document.body.appendChild(n)})()},[]);const p=n=>{const{name:o,value:i}=n.target;e(n=>({...n,[o]:i}))},b=async(o,e)=>{try{const i=await fetch(`${l}/auth/oauth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:o,access_token:e})}),a=await i.json();if(!i.ok)throw new Error(a.detail||`${o} login failed`);localStorage.setItem("user_token",a.access_token),localStorage.setItem("user_email",a.email),window.dispatchEvent(new Event("authChange")),n.push("/docs/intro")}catch(i){console.error(`${o} OAuth error:`,i),d(i.message||`${o} login failed`)}finally{h(null)}};return(0,r.jsxs)(a.A,{title:"Log In",description:"Log in to access personalized learning content",children:[(0,r.jsx)("style",{children:"\n        .login-container {\n          min-height: 80vh;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 2rem;\n          background: linear-gradient(135deg, rgba(0, 212, 170, 0.05), rgba(59, 130, 246, 0.05));\n        }\n        .login-card {\n          max-width: 450px;\n          width: 100%;\n          background: var(--ifm-background-color);\n          border-radius: 16px;\n          padding: 2.5rem;\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n          border: 1px solid var(--ifm-color-emphasis-200);\n        }\n        .login-title {\n          text-align: center;\n          margin-bottom: 0.5rem;\n          font-size: 1.75rem;\n          color: var(--ifm-font-color-base);\n        }\n        .login-subtitle {\n          text-align: center;\n          color: var(--ifm-color-emphasis-600);\n          margin-bottom: 2rem;\n          font-size: 1rem;\n        }\n        .login-error {\n          padding: 1rem;\n          margin-bottom: 1rem;\n          background: rgba(239, 68, 68, 0.1);\n          border: 1px solid rgba(239, 68, 68, 0.3);\n          border-radius: 8px;\n          color: #ef4444;\n          font-size: 0.9rem;\n        }\n        .login-form-group {\n          margin-bottom: 1.5rem;\n        }\n        .login-label {\n          display: block;\n          margin-bottom: 0.5rem;\n          font-weight: 600;\n          font-size: 0.95rem;\n          color: var(--ifm-font-color-base);\n        }\n        .login-input {\n          width: 100%;\n          padding: 0.875rem;\n          border: 1px solid var(--ifm-color-emphasis-300);\n          border-radius: 10px;\n          font-size: 16px;\n          background: var(--ifm-background-color);\n          color: var(--ifm-font-color-base);\n          box-sizing: border-box;\n          transition: all 0.2s ease;\n        }\n        .login-input:focus {\n          outline: none;\n          border-color: var(--ifm-color-primary);\n          box-shadow: 0 0 0 3px rgba(0, 212, 170, 0.1);\n        }\n        .login-button {\n          width: 100%;\n          padding: 0.875rem;\n          background: linear-gradient(135deg, #00d4aa 0%, #00bf99 100%);\n          color: #0f0f14;\n          border: none;\n          border-radius: 10px;\n          font-size: 1rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          min-height: 48px;\n        }\n        .login-button:disabled {\n          background: #666;\n          cursor: wait;\n        }\n        .login-button:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 15px rgba(0, 212, 170, 0.3);\n        }\n        .divider {\n          display: flex;\n          align-items: center;\n          margin: 1.5rem 0;\n          color: var(--ifm-color-emphasis-500);\n          font-size: 0.9rem;\n        }\n        .divider::before, .divider::after {\n          content: '';\n          flex: 1;\n          height: 1px;\n          background: var(--ifm-color-emphasis-300);\n        }\n        .divider::before { margin-right: 1rem; }\n        .divider::after { margin-left: 1rem; }\n        .oauth-buttons {\n          display: flex;\n          flex-direction: column;\n          gap: 0.75rem;\n        }\n        .oauth-button {\n          width: 100%;\n          padding: 0.875rem;\n          border-radius: 10px;\n          font-size: 1rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          min-height: 48px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 0.75rem;\n          border: 1px solid var(--ifm-color-emphasis-300);\n        }\n        .oauth-button:disabled {\n          opacity: 0.7;\n          cursor: wait;\n        }\n        .oauth-button:hover:not(:disabled) {\n          transform: translateY(-1px);\n        }\n        .google-button {\n          background: white;\n          color: #333;\n        }\n        .google-button:hover:not(:disabled) {\n          background: #f8f8f8;\n          border-color: #ddd;\n        }\n        .facebook-button {\n          background: #1877f2;\n          color: white;\n          border-color: #1877f2;\n        }\n        .facebook-button:hover:not(:disabled) {\n          background: #166fe5;\n        }\n        .oauth-icon {\n          width: 20px;\n          height: 20px;\n        }\n        .login-footer {\n          text-align: center;\n          margin-top: 1.5rem;\n        }\n        .login-footer p {\n          color: var(--ifm-color-emphasis-600);\n          margin: 0;\n        }\n        .login-footer a {\n          color: var(--ifm-color-primary);\n          font-weight: 600;\n          text-decoration: none;\n        }\n        .login-footer a:hover {\n          text-decoration: underline;\n        }\n        @media (max-width: 480px) {\n          .login-container {\n            padding: 1rem;\n            min-height: 85vh;\n          }\n          .login-card {\n            padding: 1.5rem;\n            border-radius: 12px;\n          }\n          .login-title {\n            font-size: 1.5rem;\n          }\n          .login-subtitle {\n            font-size: 0.9rem;\n            margin-bottom: 1.5rem;\n          }\n          .login-form-group {\n            margin-bottom: 1.25rem;\n          }\n        }\n        @media (max-width: 360px) {\n          .login-container {\n            padding: 0.75rem;\n          }\n          .login-card {\n            padding: 1.25rem;\n          }\n          .login-title {\n            font-size: 1.35rem;\n          }\n        }\n      "}),(0,r.jsx)("div",{className:"login-container",children:(0,r.jsxs)("div",{className:"login-card",children:[(0,r.jsx)("h1",{className:"login-title",children:"Welcome Back"}),(0,r.jsx)("p",{className:"login-subtitle",children:"Sign in to continue your learning journey"}),c&&(0,r.jsxs)("div",{className:"login-error",children:["\u26a0\ufe0f ",c]}),(0,r.jsxs)("div",{className:"oauth-buttons",children:[(0,r.jsxs)("button",{type:"button",onClick:async()=>{h("google"),d("");try{window.google&&window.google.accounts?window.google.accounts.oauth2.initTokenClient({client_id:s,scope:"email profile",callback:async n=>{n.access_token?await b("google",n.access_token):(d("Google login failed"),h(null))}}).requestAccessToken():(d("Google SDK not loaded. Please try again or use email login."),h(null))}catch(n){console.error("Google login error:",n),d("Google login failed. Please try again."),h(null)}},disabled:"google"===u,className:"oauth-button google-button",children:[(0,r.jsxs)("svg",{className:"oauth-icon",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"google"===u?"Signing in...":"Continue with Google"]}),(0,r.jsxs)("button",{type:"button",onClick:async()=>{h("facebook"),d("");try{window.FB?window.FB.login(async n=>{n.authResponse?await b("facebook",n.authResponse.accessToken):(d("Facebook login cancelled"),h(null))},{scope:"email,public_profile"}):(d("Facebook SDK not loaded. Please try again or use email login."),h(null))}catch(n){console.error("Facebook login error:",n),d("Facebook login failed. Please try again."),h(null)}},disabled:"facebook"===u,className:"oauth-button facebook-button",children:[(0,r.jsx)("svg",{className:"oauth-icon",viewBox:"0 0 24 24",fill:"white",children:(0,r.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"facebook"===u?"Signing in...":"Continue with Facebook"]})]}),(0,r.jsx)("div",{className:"divider",children:"or sign in with email"}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(!0),d("");try{const e=await fetch(`${l}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o.email,password:o.password})}),i=await e.json();if(!e.ok)throw new Error(i.detail||"Login failed");localStorage.setItem("user_token",i.access_token),localStorage.setItem("user_email",i.email||o.email),window.dispatchEvent(new Event("authChange")),n.push("/docs/intro")}catch(i){console.error("Login error:",i),d(i.message||"Invalid email or password")}finally{m(!1)}},children:[(0,r.jsxs)("div",{className:"login-form-group",children:[(0,r.jsx)("label",{className:"login-label",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",value:o.email,onChange:p,required:!0,placeholder:"your@email.com",className:"login-input"})]}),(0,r.jsxs)("div",{className:"login-form-group",children:[(0,r.jsx)("label",{className:"login-label",children:"Password"}),(0,r.jsx)("input",{type:"password",name:"password",value:o.password,onChange:p,required:!0,placeholder:"Enter your password",className:"login-input"})]}),(0,r.jsx)("button",{type:"submit",disabled:g,className:"login-button",children:g?"\u23f3 Signing in...":"Sign In"})]}),(0,r.jsx)("div",{className:"login-footer",children:(0,r.jsxs)("p",{children:["Don't have an account?"," ",(0,r.jsx)("a",{href:"/signup",children:"Create Account"})]})})]})})]})}}}]);